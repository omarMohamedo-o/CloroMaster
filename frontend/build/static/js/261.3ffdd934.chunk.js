"use strict";(self.webpackChunkchloromaster=self.webpackChunkchloromaster||[]).push([[261],{2967(e,t,a){a.d(t,{A:()=>c});var s=a(2555),r=a(5043),n=a(4505),o=a(4039),i=a(579);function c(e){let{slug:t,title:a,onClose:c}=e;const{t:l}=(0,o.o)(),[d,m]=(0,r.useState)({name:"",email:"",phone:"",company:"",message:"",subscribe:!1}),[u,g]=(0,r.useState)({}),[h,x]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),p=e=>t=>m(a=>(0,s.A)((0,s.A)({},a),{},{[e]:"subscribe"===e?t.target.checked:t.target.value}));return b?(0,i.jsx)("div",{className:"rounded-md bg-green-50 border border-green-200 p-4 text-sm text-green-800",children:l?l("common_ui.datasheetSubmitted"):"Thank you \u2014 the datasheet download should begin. Check your email for a copy."}):(0,i.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const a=(()=>{const e={};return d.name.trim()||(e.name=l?l("contact.errors.nameRequired"):"Name is required"),d.email.trim()&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/.test(d.email)||(e.email=l?l("contact.errors.emailRequired"):"Valid email is required"),d.phone.trim()||(e.phone=l?l("contact.errors.phoneRequired"):"Phone number is required"),e})();if(g(a),!Object.keys(a).length){x(!0);try{n.A&&n.A.createContact&&await n.A.createContact({name:d.name,email:d.email,phone:d.phone,company:d.company,message:"".concat(d.message,"\n\nRequested datasheet: ").concat(t),subscribe:!!d.subscribe,source:"datasheet-download"}),y(!0);const e="/files/datasheets/".concat(t,".pdf");window.open(e,"_blank","noopener")}catch(s){console.error("Failed to submit contact before download",s),g({form:s.message||"Failed to submit. Please try again."})}finally{x(!1)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[l?l("contact.form.name"):"Name"," *"]}),(0,i.jsx)("input",{value:d.name,onChange:p("name"),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"}),u.name&&(0,i.jsx)("p",{className:"text-xs text-red-600 mt-1",children:u.name})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[l?l("contact.form.email"):"Email Address"," *"]}),(0,i.jsx)("input",{value:d.email,onChange:p("email"),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"}),u.email&&(0,i.jsx)("p",{className:"text-xs text-red-600 mt-1",children:u.email})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:[l?l("contact.form.phone"):"Phone Number"," *"]}),(0,i.jsx)("input",{value:d.phone,onChange:p("phone"),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"}),u.phone&&(0,i.jsx)("p",{className:"text-xs text-red-600 mt-1",children:u.phone})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l?l("contact.form.company"):"Company Name"}),(0,i.jsx)("input",{value:d.company,onChange:p("company"),className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),(0,i.jsxs)("div",{className:"md:col-span-2",children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l?l("contact.form.message"):"Message"}),(0,i.jsx)("textarea",{value:d.message,onChange:p("message"),rows:3,className:"mt-1 block w-full rounded-md border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-800 p-2"})]}),(0,i.jsxs)("div",{className:"md:col-span-2 flex items-center gap-2",children:[(0,i.jsx)("input",{id:"subscribe",type:"checkbox",checked:d.subscribe,onChange:p("subscribe")}),(0,i.jsx)("label",{htmlFor:"subscribe",className:"text-sm text-gray-700 dark:text-gray-300",children:l?l("contact.form.subscribe"):"I would like to receive periodic emails from ChloroMaster"})]}),u.form&&(0,i.jsx)("div",{className:"md:col-span-2 text-sm text-red-600",children:u.form}),(0,i.jsxs)("div",{className:"md:col-span-2 flex items-center gap-3",children:[(0,i.jsx)("button",{type:"submit",disabled:h,className:"inline-flex items-center px-4 py-2 bg-brand text-white rounded-lg hover:bg-brand/90 transition-colors",children:h?l?l("contact.form.sending"):"Sending...":l?l("common_ui.requestDatasheet")+(a?" \u2014 ".concat(a):""):"Request Datasheet".concat(a?" \u2014 ".concat(a):"")}),(0,i.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:l?l("common_ui.fieldsRequired"):"Fields marked * are required."})]})]})}},4261(e,t,a){a.r(t),a.d(t,{default:()=>b});var s=a(2555),r=a(5043),n=a(5685),o=a(2774),i=a(4039),c=a(5581),l=a(5617),d=a(2967),m=a(9372),u=a(579);function g(e){let{images:t=[],startIndex:a=0,onClose:s}=e;const[n,i]=r.useState(a||0);if((0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&s&&s(),"ArrowLeft"===e.key&&c(),"ArrowRight"===e.key&&l()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),(0,r.useEffect)(()=>i(a||0),[a]),!t||0===t.length)return null;const c=()=>i(e=>(e-1+t.length)%t.length),l=()=>i(e=>(e+1)%t.length);return(0,u.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:[(0,u.jsx)("button",{onClick:s,"aria-label":"Close",className:"absolute top-6 right-6 text-white p-2 rounded-full bg-black/40 hover:bg-black/60",children:(0,u.jsx)(o.QCr,{})}),(0,u.jsx)("button",{onClick:c,"aria-label":"Previous",className:"absolute left-4 text-white p-3 rounded-full bg-black/40 hover:bg-black/60",children:(0,u.jsx)(o._Jj,{})}),(0,u.jsx)("div",{className:"max-w-[90%] max-h-[90%] flex items-center justify-center",children:(0,u.jsx)("img",{src:t[n],alt:"Image ".concat(n+1),className:"max-w-full max-h-full object-contain"})}),(0,u.jsx)("button",{onClick:l,"aria-label":"Next",className:"absolute right-4 text-white p-3 rounded-full bg-black/40 hover:bg-black/60",children:(0,u.jsx)(o.X6T,{})})]})}const h=r.lazy(()=>a.e(532).then(a.bind(a,9532))),x={"Water Treatment":o.CLz,"\u0645\u0639\u0627\u0644\u062c\u0629 \u0627\u0644\u0645\u064a\u0627\u0647":o.CLz,"Safety Systems":o.SMR,"\u0623\u0646\u0638\u0645\u0629 \u0627\u0644\u0633\u0644\u0627\u0645\u0629":o.SMR,Engineering:o.Pcn,"\u0627\u0644\u0647\u0646\u062f\u0633\u0629":o.Pcn,Manufacturing:o.xdT,"\u0627\u0644\u062a\u0635\u0646\u064a\u0639":o.xdT,Maintenance:o.xdT,"\u0627\u0644\u0635\u064a\u0627\u0646\u0629":o.xdT,"Project Management":o.A7C,"\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0634\u0627\u0631\u064a\u0639":o.A7C};function b(){var e,t,a,b;const{serviceId:y}=(0,n.g)(),p=(0,n.Zp)(),{t:f,language:k}=(0,i.o)(),j=f("services.items"),v=Array.isArray(j)&&j.length?j:l.A,w=v.find(e=>e.id===parseInt(y))||v[parseInt(y)-1];if((0,r.useEffect)(()=>{window.scrollTo(0,0)},[y]),!w)return(0,u.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,u.jsxs)("div",{className:"text-center",children:[(0,u.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Service Not Found"}),(0,u.jsx)("button",{onClick:()=>p("/"),className:"px-6 py-3 bg-brand text-white rounded-lg hover:bg-brand/90 transition-colors",children:"Back to Home"})]})});x[w.category]||o.Pcn;const[N,C]=r.useState(null),S="object"===typeof w.title?(null===(e=w.title)||void 0===e?void 0:e[k])||(null===(t=w.title)||void 0===t?void 0:t.en)||Object.values(w.title||{})[0]:w.title,A="object"===typeof w.desc?(null===(a=w.desc)||void 0===a?void 0:a[k])||(null===(b=w.desc)||void 0===b?void 0:b.en)||Object.values(w.desc||{})[0]:w.desc,[q,T]=(0,r.useState)({}),[E,P]=(0,r.useState)(!1),[L,R]=(0,r.useState)([]),[M,O]=(0,r.useState)(0);return(0,r.useEffect)(()=>{let e=!0;async function t(e){try{const t=await fetch(e,{method:"HEAD"});return t&&t.ok}catch(t){return!1}}return w&&w.locations&&Array.isArray(w.locations)&&w.locations.forEach(a=>{a.images&&0!==a.images.length||async function(a){const r=(w.images&&w.images[0]||"").split("/").filter(Boolean)[3]||w.slug||"",n=a.title&&(a.title.en||"")||"",o=new Set;a.key&&o.add(a.key),a.key&&o.add(a.key.replace(/-/g," ")),a.key&&o.add(a.key.replace(/-/g,"-")),n&&o.add(n.split("\u2014")[0].trim()),Array.from(o).forEach(e=>{if("string"===typeof e){const t=e.split(/[- ]/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");o.add(t)}});const i=[];for(const e of o){if(!e)continue;const a="/images/services/".concat(r,"/").concat(e);for(let e=1;e<=12;e++){const s="".concat(a,"/").concat(e,".jpg"),r="".concat(a,"/").concat(e,".webp");if(await t(s)?i.push(s):await t(r)&&i.push(r),i.length>=8)break}if(i.length)break}e&&T(e=>(0,s.A)((0,s.A)({},e),{},{[a.key]:i}))}(a)}),()=>{e=!1}},[w,k]),(0,u.jsx)(r.Suspense,{fallback:(0,u.jsx)("div",{className:"container mx-auto px-6",children:"Loading..."}),children:(0,u.jsxs)(h,{title:S,subtitle:A,onBack:()=>p(-1),children:[w.locations&&Array.isArray(w.locations)&&w.locations.length>0?(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-8",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:f("services.locationsTitle")||"Locations"}),(0,u.jsx)("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-6",children:w.locations.map((e,t)=>{const a=(e.images||[]).filter(Boolean);if(!a||0===a.length)return null;const s=e.title&&(e.title[k]||e.title.en)||e.key||"Location ".concat(t+1);return(0,u.jsx)("div",{className:"col-span-1",children:(0,u.jsx)(m.A,{src:a[0],name:s,onClick:()=>{R(a),O(0),P(!0)}})},e.key||t)})})]}):(()=>{const e=(w.images||[]).filter(Boolean);if(!e||0===e.length)return null;const t=e=>e.toString().toLowerCase().replace(/\.(jpeg|jpg|png|webp)$/i,"").replace(/[^a-z0-9]+/g," ").trim(),a=t(w.slug||S||""),s=e.filter(e=>{const s=e.split("/").pop()||"";return t(s)!==a}).filter(Boolean);if(!s||0===s.length)return null;const r=Array.from(new Set(s));return(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-8",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:f("common_ui.equipmentGallery")||"Equipment Gallery"}),(0,u.jsx)("div",{className:"grid ".concat(r.length>2?"md:grid-cols-3":"md:grid-cols-2"," gap-6"),children:r.map((e,t)=>{const a=(e=>(e.split("/").pop()||"").replace(/\.(jpeg|jpg|png|webp)$/i,"").replace(/[-_]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "))(e),s=a.toString().toLowerCase().replace(/[_-]?\d+$/i,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return(0,u.jsx)(m.A,{src:e,name:a,slug:s},t)})})]})})(),w.datasheets&&w.datasheets.length>0&&(0,u.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6 mb-8",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Downloads"}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.datasheets.map(e=>(0,u.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-sm font-semibold text-gray-800 dark:text-gray-100",children:e.title&&(e.title[k]||e.title.en)||e.slug}),(0,u.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:e.path})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{onClick:()=>C(e.slug),className:"px-4 py-2 bg-brand text-white rounded-md",children:"Request"})})]},e.slug))})]}),(0,u.jsx)("div",{className:"mt-8",children:(0,u.jsxs)("div",{className:"rounded-2xl border border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 p-8 shadow-sm",children:[(0,u.jsx)("h3",{className:"text-2xl font-bold text-center text-gray-900 dark:text-white",children:f("cta.title")||"Get a Quote or Consultation"}),(0,u.jsx)("p",{className:"text-center text-gray-600 dark:text-gray-300 mt-3 max-w-2xl mx-auto",children:f("cta.subtitle")||"Contact our team for project-specific enquiries, quotes, or site visits."}),(0,u.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-6",children:[(0,u.jsx)("button",{onClick:()=>p("/",{state:{scrollTo:"contact"}}),className:"px-6 py-3 rounded-lg text-white shadow-md bg-gradient-to-r from-cyan-500 to-teal-500 hover:from-cyan-600 hover:to-teal-600 transition-colors",children:f("cta.contactForm")||"Contact Form"}),(0,u.jsxs)("a",{href:"tel:".concat(c.A.contact.phone.replace(/\s+/g,"")),className:"px-5 py-3 rounded-lg border border-teal-500 text-teal-700 hover:bg-teal-50 transition-colors inline-flex items-center gap-2",children:[(0,u.jsx)(o.Cab,{}),f("cta.callUs")||"Call Us"]})]})]})}),N&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start md:items-center justify-center p-6",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:()=>C(null)}),(0,u.jsxs)("div",{className:"relative w-full max-w-3xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8 overflow-auto",children:[(0,u.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,u.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Get In Touch"}),(0,u.jsx)("button",{onClick:()=>C(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-300",children:"\u2715"})]}),(0,u.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:"Please fill the form below to receive the datasheet."}),(0,u.jsx)(d.A,{slug:N,title:w.title,onClose:()=>C(null)}),(0,u.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-3",children:f?f("common_ui.datasheetUnavailable"):"If the datasheet is not available, contact us and we'll provide it."})]})]}),E&&(0,u.jsx)(g,{images:L,startIndex:M,onClose:()=>P(!1)})]})})}},4505(e,t,a){a.d(t,{A:()=>o});var s=a(2555),r=a(5581);const n=new class{constructor(){this.baseURL=r.A.api.baseURL,this.timeout=r.A.api.timeout}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a="".concat(this.baseURL).concat(e),r={headers:(0,s.A)({"Content-Type":"application/json"},t.headers)},n=(0,s.A)((0,s.A)({},r),t);try{const e=new AbortController,t=setTimeout(()=>e.abort(),this.timeout),r=await fetch(a,(0,s.A)((0,s.A)({},n),{},{signal:e.signal}));if(clearTimeout(t),!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.message||"HTTP error! status: ".concat(r.status))}return 204===r.status?null:await r.json()}catch(o){if("AbortError"===o.name)throw new Error("Request timeout. Please try again.");throw console.error("API request failed:",o),o}}async createContact(e){return this.request("/contact",{method:"POST",body:JSON.stringify(e)})}async getContacts(){return this.request("/contact")}async getContact(e){return this.request("/contact/".concat(e))}async updateContact(e,t){return this.request("/contact/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteContact(e){return this.request("/contact/".concat(e),{method:"DELETE"})}async markContactAsRead(e){return this.request("/contact/".concat(e,"/mark-read"),{method:"PUT"})}async getUnreadContacts(){return this.request("/contact/unread")}async getServices(){return this.request("/services")}async getService(e){return this.request("/services/".concat(e))}async getServicesByCategory(e){return this.request("/services/category/".concat(encodeURIComponent(e)))}async getCategories(){return this.request("/services/categories")}async login(e){return this.request("/auth/login",{method:"POST",body:JSON.stringify(e)})}async register(e){return this.request("/auth/register",{method:"POST",body:JSON.stringify(e)})}async validateToken(e){return this.request("/auth/validate",{method:"POST",body:JSON.stringify({token:e})})}async refreshToken(e){return this.request("/auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:e})})}},o=n},5581(e,t,a){a.d(t,{A:()=>s});const s={api:{baseURL:"https://localhost:5001/api",timeout:3e4},app:{name:"ChloroMaster",description:"Engineering, Contracting & Supplies - Water Treatment & Chlorination Systems",version:"1.0.0"},contact:{email:"ChloroMaster@outlook.sa",phone:"+20 12 22155310",address:"58 Mahaliya 1 - Second District, Obour - Qalyubia",addressLink:"https://maps.google.com/?q=58+Mahaliya+1+Second+District+Obour+Qalyubia+Egypt",workingHours:{weekdays:"Sunday - Wednesday: 9:00 AM - 6:00 PM",saturday:"Saturday: 9:00 AM - 2:00 PM"}},features:{darkMode:!0,animations:!0,contactForm:!0,services:!0}}},5617(e,t,a){a.d(t,{A:()=>s});const s=[{id:1,title:"Chlorine Systems",category:"Water Treatment",desc:"Design, installation, testing, and commissioning of advanced chlorination systems from 10 to 120 kg/hr capacity for drinking water and wastewater treatment plants.",images:["/images/services/Chlorine System Solutions/liquid-chlorine-trap-and-chlorine-gas-filter.png"]},{id:2,title:"Electromechanical Works",category:"Engineering",desc:"Complete electromechanical installation and maintenance services for water treatment facilities, including pumps, valves, and control systems.",images:["/images/services/Chlorine System Solutions/Expansion-tube-with-rupture-disc.png"]}]},9372(e,t,a){a.d(t,{A:()=>n});a(5043);var s=a(5685),r=a(579);function n(e){let{src:t,name:a,slug:n,disableLink:o=!1,onClick:i,hideMeta:c=!1}=e;const l=(0,s.Zp)(),d=()=>{if(i)return i();o||n&&l("/equipment/".concat(n))};return(0,r.jsxs)("article",{onClick:d,tabIndex:o?-1:0,role:o?void 0:"button",className:"group relative bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 dark:border-gray-700 overflow-hidden ".concat(o?"":"cursor-pointer"," focus:outline-none ").concat(o?"":"focus:ring-2 focus:ring-brand"),onKeyDown:e=>{o||"Enter"!==e.key&&" "!==e.key||d()},children:[(0,r.jsx)("div",{className:"relative h-40 overflow-hidden bg-white dark:bg-gray-700",children:(0,r.jsx)("div",{className:"flex h-full items-center justify-center p-4",children:(0,r.jsx)("img",{src:encodeURI(t),alt:a,className:"w-full h-full object-contain transform group-hover:scale-105 group-hover:-translate-y-1 transition-transform duration-500",style:{imageRendering:"crisp-edges"},loading:"lazy"})})}),(0,r.jsx)("div",{className:"p-4",children:!c&&!o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 group-hover:text-brand transition-colors duration-300",children:a}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"px-3 py-1 rounded-full bg-brand/10 text-brand text-sm font-medium",children:"Equipment"}),(0,r.jsx)("div",{className:"text-brand hover:text-brand-secondary transition-colors duration-300",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})})]})]})})]})}}}]);
//# sourceMappingURL=261.3ffdd934.chunk.js.map