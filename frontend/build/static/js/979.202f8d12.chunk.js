"use strict";(self.webpackChunkchloromaster=self.webpackChunkchloromaster||[]).push([[979],{1979(e,t,s){s.r(t),s.d(t,{default:()=>v});var a=s(2555),l=s(5043),r=s(5685),i=s(1529),n=s(2774),o=s(9347),c=s(4606),d=s(1384),x=s(1252),h=s(347),g=s(6959),m=s(579);function u(e){let{src:t,name:s,slug:a,disableLink:l=!1,onClick:n,hideMeta:o=!1}=e;const c=(0,r.Zp)(),d=()=>{if(n)return n();l||a&&c(i.R7.EQUIPMENT(a))};return(0,m.jsxs)("article",{onClick:d,tabIndex:l?-1:0,role:l?void 0:"button",className:"group relative bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-100 dark:border-gray-700 overflow-hidden ".concat(l?"":"cursor-pointer"," focus:outline-none ").concat(l?"":"focus:ring-2 focus:ring-brand"),onKeyDown:e=>{l||"Enter"!==e.key&&" "!==e.key||d()},children:[(0,m.jsx)("div",{className:"relative h-40 overflow-hidden bg-white dark:bg-gray-700",children:(0,m.jsx)("div",{className:"flex h-full items-center justify-center p-4",children:(0,m.jsx)("img",{src:encodeURI(t),alt:s,className:"w-full h-full object-contain transform group-hover:scale-105 group-hover:-translate-y-1 transition-transform duration-500",style:{imageRendering:"crisp-edges"},loading:"lazy"})})}),(0,m.jsx)("div",{className:"p-4",children:!o&&!l&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2 group-hover:text-brand transition-colors duration-300",children:s}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsx)("span",{className:"px-3 py-1 rounded-full bg-brand/10 text-brand text-sm font-medium",children:"Equipment"}),(0,m.jsx)("div",{className:"text-brand hover:text-brand-secondary transition-colors duration-300",children:(0,m.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8l4 4m0 0l-4 4m4-4H3"})})})]})]})})]})}function b(e){let{images:t=[],startIndex:s=0,onClose:a}=e;const[r,i]=l.useState(s||0),o=(0,l.useCallback)(()=>{i(e=>e>0?e-1:t.length-1)},[t.length]),c=(0,l.useCallback)(()=>{i(e=>e<t.length-1?e+1:0)},[t.length]);return(0,l.useEffect)(()=>{const e=e=>{"Escape"===e.key&&a&&a(),"ArrowLeft"===e.key&&o(),"ArrowRight"===e.key&&c()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[a,o,c]),t&&0!==t.length?(0,m.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:[(0,m.jsx)("button",{onClick:a,"aria-label":"Close",className:"absolute top-6 right-6 text-white p-2 rounded-full bg-black/40 hover:bg-black/60",children:(0,m.jsx)(n.QCr,{})}),(0,m.jsx)("button",{onClick:o,"aria-label":"Previous",className:"absolute left-4 text-white p-3 rounded-full bg-black/40 hover:bg-black/60",children:(0,m.jsx)(n._Jj,{})}),(0,m.jsx)("div",{className:"max-w-[90%] max-h-[90%] flex items-center justify-center",children:(0,m.jsx)("img",{src:t[r],alt:"Image ".concat(r+1),className:"max-w-full max-h-full object-contain"})}),(0,m.jsx)("button",{onClick:c,"aria-label":"Next",className:"absolute right-4 text-white p-3 rounded-full bg-black/40 hover:bg-black/60",children:(0,m.jsx)(n.X6T,{})})]}):null}var p=s(9381),f=s(8269);const j=l.lazy(()=>s.e(216).then(s.bind(s,6454)));function v(){var e,t,s,v;const{serviceId:y}=(0,r.g)(),k=(0,r.Zp)(),{t:w,language:N}=(0,o.o)();let C,A=!1;isNaN(y)?C=c.A.find(e=>e.slug===y):(C=c.A.find(e=>e.id===parseInt(y)),A=!0);const E=C,L=C,[I,S]=l.useState(null),[T,z]=(0,l.useState)(!1),[H,P]=(0,l.useState)([]),[B,R]=(0,l.useState)(0),[M,_]=(0,l.useState)({});if((0,l.useEffect)(()=>{const e=window.location.hash.slice(1);e?setTimeout(()=>{const t=document.getElementById(e);t?t.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo(0,0)},100):window.scrollTo(0,0)},[y]),(0,l.useEffect)(()=>{A&&C&&C.slug&&k(i.R7.SERVICE(C.slug),{replace:!0})},[A,C,k]),(0,l.useEffect)(()=>{async function e(e){try{const t=await fetch(e,{method:"HEAD"});return t&&t.ok}catch(t){return!1}}E&&E.locations&&Array.isArray(E.locations)&&E.locations.forEach(t=>{t.images&&0!==t.images.length||async function(t){const s=(E&&E.images&&E.images[0]||"").split("/").filter(Boolean)[3]||E&&E.slug||"",a=t.title&&(t.title.en||"")||"",l=new Set;t.key&&l.add(t.key),t.key&&l.add(t.key.replace(/-/g," ")),t.key&&l.add(t.key.replace(/-/g,"-")),a&&l.add(a.split("\u2014")[0].trim()),Array.from(l).forEach(e=>{if("string"===typeof e){const t=e.split(/[- ]/).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ");l.add(t)}});const r=[];for(const i of l){if(!i)continue;const t="/images/services/".concat(s,"/").concat(i);for(let s=1;s<=12;s++){const a="".concat(t,"/").concat(s,".jpg"),l="".concat(t,"/").concat(s,".webp");if(await e(a)?r.push(a):await e(l)&&r.push(l),r.length>=8)break}if(r.length)break}}(t)})},[E,N]),!E)return(0,m.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Service Not Found"}),(0,m.jsx)(d.A,{className:"mx-auto"})]})});const F="object"===typeof E.title?(null===(e=E.title)||void 0===e?void 0:e[N])||(null===(t=E.title)||void 0===t?void 0:t.en)||Object.values(E.title||{})[0]:E.title,U="object"===typeof E.desc?(null===(s=E.desc)||void 0===s?void 0:s[N])||(null===(v=E.desc)||void 0===v?void 0:v.en)||Object.values(E.desc||{})[0]:E.desc,V=E&&E.titleHighlight&&(E.titleHighlight[N]||E.titleHighlight.en)||L&&L.titleHighlight&&(L.titleHighlight[N]||L.titleHighlight.en)||"";return(0,m.jsx)(l.Suspense,{fallback:(0,m.jsx)("div",{className:"container mx-auto px-6",children:"Loading..."}),children:(0,m.jsxs)(j,{title:F,titleHighlight:V,subtitle:U,children:[2===E.id&&L&&L.products&&Array.isArray(L.products)?(0,m.jsx)("div",{className:"space-y-6 mb-6",children:L.products.map((e,t)=>{var s,l,r,i;const o=(null===(s=e.title)||void 0===s?void 0:s[N])||(null===(l=e.title)||void 0===l?void 0:l.en)||"Project",c=(null===(r=e.titleHighlight)||void 0===r?void 0:r[N])||(null===(i=e.titleHighlight)||void 0===i?void 0:i.en)||"",d=e.images&&e.images.length>0?e.images:e.image?[e.image]:[],x=M[e.id]||0;return(0,m.jsx)(p.P.div,{id:e.slug||"project-".concat(e.id),className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden scroll-mt-24",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.1*t},children:(0,m.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 p-4",children:[(0,m.jsx)("div",{className:"relative",children:d.length>0?(0,m.jsxs)("div",{className:"relative bg-gray-100 dark:bg-gray-900 rounded-xl overflow-hidden",children:[(0,m.jsx)("img",{src:d[x],alt:"".concat(o," - ").concat(x+1),className:"w-full h-[400px] object-cover"}),d.length>1&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{onClick:()=>{_(t=>(0,a.A)((0,a.A)({},t),{},{[e.id]:((t[e.id]||0)-1+d.length)%d.length}))},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-colors z-10","aria-label":"Previous image",children:(0,m.jsx)(n._Jj,{size:20})}),(0,m.jsx)("button",{onClick:()=>{_(t=>(0,a.A)((0,a.A)({},t),{},{[e.id]:((t[e.id]||0)+1)%d.length}))},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white rounded-full p-3 transition-colors z-10","aria-label":"Next image",children:(0,m.jsx)(n.X6T,{size:20})}),(0,m.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/70 text-white px-4 py-2 rounded-full text-sm",children:[x+1," / ",d.length]})]})]}):(0,m.jsx)("div",{className:"bg-gradient-to-br from-brand/10 to-brand-secondary/10 rounded-xl h-[400px] flex items-center justify-center",children:(0,m.jsxs)("div",{className:"text-center",children:[(0,m.jsx)("div",{className:"text-6xl mb-4 text-brand",children:"\ud83c\udfd7\ufe0f"}),(0,m.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:o})]})})}),(0,m.jsxs)("div",{className:"flex flex-col justify-center space-y-4",children:[(()=>{if(c&&""!==c.trim()){const e=o.indexOf(c);if(-1!==e){const t=o.substring(0,e),s=o.substring(e+c.length);return(0,m.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t,(0,m.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-brand to-brand-secondary",children:c}),s]})}}return(0,m.jsx)("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:o})})(),e.scope&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-sm font-semibold text-brand uppercase mb-1",children:"ar"===N?"\u0646\u0637\u0627\u0642 \u0627\u0644\u0639\u0645\u0644":"Scope"}),(0,m.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:e.scope[N]||e.scope.en})]}),e.workExecuted&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-sm font-semibold text-brand uppercase mb-1",children:"ar"===N?"\u0627\u0644\u0623\u0639\u0645\u0627\u0644 \u0627\u0644\u0645\u0646\u0641\u0630\u0629":"Work Executed"}),(0,m.jsx)("p",{className:"text-gray-700 dark:text-gray-300",children:e.workExecuted[N]||e.workExecuted.en})]}),(0,m.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.capacity&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"ar"===N?"\u0627\u0644\u0642\u062f\u0631\u0629":"Capacity"}),(0,m.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.capacity})]}),e.client&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"ar"===N?"\u0627\u0644\u0639\u0645\u064a\u0644":"Client"}),(0,m.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.client})]}),e.year&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"ar"===N?"\u0627\u0644\u0633\u0646\u0629":"Year"}),(0,m.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.year})]}),e.location&&(0,m.jsxs)("div",{children:[(0,m.jsx)("h4",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase mb-1",children:"ar"===N?"\u0627\u0644\u0645\u0648\u0642\u0639":"Location"}),(0,m.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.location[N]||e.location.en})]})]})]})]})},e.id||t)})}):(0,m.jsx)(m.Fragment,{children:E.locations&&Array.isArray(E.locations)&&E.locations.length>0?(0,m.jsxs)(p.P.div,{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-4 mb-6",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:f.WB,children:[(0,m.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:E&&E.locationsTitle&&(E.locationsTitle[N]||E.locationsTitle.en)||L&&L.locationsTitle&&(L.locationsTitle[N]||L.locationsTitle.en)||w("services.locationsTitle")||"Locations"}),(0,m.jsx)("div",{className:"grid md:grid-cols-3 grid-cols-1 gap-6",children:E.locations.map((e,t)=>{const s=(e.images||[]).filter(Boolean);if(!s||0===s.length)return null;const a=e.title&&(e.title[N]||e.title.en)||e.key||"Location ".concat(t+1);return(0,m.jsx)(p.P.div,{className:"col-span-1",variants:f.PK,custom:t,children:(0,m.jsx)(u,{src:s[0],name:a,onClick:()=>{P(s),R(0),z(!0)}})},e.key||t)})})]}):(()=>{const e=(E.images||[]).filter(Boolean);if(!e||0===e.length)return null;const t=e=>e.toString().toLowerCase().replace(/\.(jpeg|jpg|png|webp)$/i,"").replace(/[^a-z0-9]+/g," ").trim(),s=t(E.slug||F||""),a=e.filter(e=>{const a=e.split("/").pop()||"";return t(a)!==s}).filter(Boolean);if(!a||0===a.length)return null;const l=Array.from(new Set(a));return(0,m.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-4 mb-6",children:[(0,m.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:w("common_ui.equipmentGallery")||"Equipment Gallery"}),(0,m.jsx)("div",{className:"grid ".concat(l.length>2?"md:grid-cols-3":"md:grid-cols-2"," gap-6"),children:l.map((e,t)=>{var s,a;const l=(e=>(e.split("/").pop()||"").replace(/\.(jpeg|jpg|png|webp)$/i,"").replace(/[-_]/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "))(e);let r=null,i=null;if(L&&L.products&&Array.isArray(L.products)){const t=L.products.find(t=>t.image===e);if(t)r=t.slug,i=t;else{const e=l.toLowerCase().replace(/[^a-z0-9]+/g,""),t=L.products.find(t=>{var s;const a=((null===(s=t.title)||void 0===s?void 0:s.en)||"").toLowerCase().replace(/[^a-z0-9]+/g,"");return e===a||e.length>10&&a.length>10&&(e.includes(a)||a.includes(e))});t&&(r=t.slug,i=t)}}const n=i&&((null===(s=i.title)||void 0===s?void 0:s[N])||(null===(a=i.title)||void 0===a?void 0:a.en))||l,o=r||l.toString().toLowerCase().replace(/[_-]?\d+$/i,"").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");return(0,m.jsx)(u,{src:e,name:n,slug:o},t)})})]})})()}),(0,m.jsx)(h.A,{}),I&&(0,m.jsxs)("div",{className:"fixed inset-0 z-50 flex items-start md:items-center justify-center p-4 md:p-6",children:[(0,m.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>S(null)}),(0,m.jsxs)("div",{className:"relative w-full max-w-3xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 md:p-8 max-h-[90vh] overflow-auto",children:[(0,m.jsxs)("div",{className:"relative mb-6",children:[(0,m.jsx)("button",{onClick:()=>S(null),className:"absolute right-0 top-0 w-8 h-8 flex items-center justify-center rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 dark:hover:text-gray-200 dark:hover:bg-gray-700 transition-colors","aria-label":"Close",children:(0,m.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,m.jsxs)("div",{className:"text-center pr-8",children:[(0,m.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Get In Touch"}),(0,m.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please fill the form below to receive the datasheet."})]})]}),(0,m.jsx)(x.A,{slug:I,title:E.title,onClose:()=>S(null)}),(0,m.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,m.jsx)(g.A,{})})]})]}),T&&(0,m.jsx)(b,{images:H,startIndex:B,onClose:()=>z(!1)})]})})}}}]);
//# sourceMappingURL=979.202f8d12.chunk.js.map