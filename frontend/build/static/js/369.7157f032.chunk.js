"use strict";(self.webpackChunkchloromaster=self.webpackChunkchloromaster||[]).push([[369],{369(e,t,r){r.r(t),r.d(t,{default:()=>x});var s=r(2555),n=r(5043),a=r(5685),i=r(1529),o=r(9381),l=r(4670),c=r(2774),d=r(341),u=r(9347),p=r(4606),m=r(579);function x(){const{isSearchOpen:e,searchQuery:t,closeSearch:r}=(0,d.S)(),{language:x}=(0,u.o)(),h=(0,a.Zp)(),[g,v]=(0,n.useState)("");(0,n.useEffect)(()=>{v(t)},[t]);const f=(0,n.useMemo)(()=>{if(!g||g.trim().length<2)return{services:[],products:[]};const e=g.toLowerCase().trim(),t=/[\u0600-\u06FF]/.test(e);const r={services:[],products:[]};return p.A.forEach(n=>{var a,i,o,l,c,d;const u=((null===(a=n.title)||void 0===a?void 0:a.en)||"").toLowerCase(),p=((null===(i=n.title)||void 0===i?void 0:i.ar)||"").toLowerCase(),m=((null===(o=n.desc)||void 0===o?void 0:o.en)||"").toLowerCase(),h=((null===(l=n.desc)||void 0===l?void 0:l.ar)||"").toLowerCase(),g=((null===(c=n.category)||void 0===c?void 0:c.en)||"").toLowerCase(),v=((null===(d=n.category)||void 0===d?void 0:d.ar)||"").toLowerCase(),f=u.includes(e)||m.includes(e)||g.includes(e),y=p.includes(e)||h.includes(e)||v.includes(e);if(f||y){let a=x;t&&y?a="ar":!t&&f?a="en":y&&(a="ar"),r.services.push((0,s.A)((0,s.A)({},n),{},{type:"service",displayLanguage:a,matchedIn:{title:u.includes(e)||p.includes(e),description:m.includes(e)||h.includes(e),category:g.includes(e)||v.includes(e)}}))}n.products&&Array.isArray(n.products)&&n.products.forEach(a=>{var i,o,l,c;const d=((null===(i=a.title)||void 0===i?void 0:i.en)||"").toLowerCase(),u=((null===(o=a.title)||void 0===o?void 0:o.ar)||"").toLowerCase(),p=((null===(l=a.usage)||void 0===l?void 0:l.en)||"").toLowerCase(),m=((null===(c=a.usage)||void 0===c?void 0:c.ar)||"").toLowerCase(),h=d.includes(e)||p.includes(e),g=u.includes(e)||m.includes(e);if(h||g){let i=x;t&&g?i="ar":!t&&h?i="en":g&&(i="ar"),r.products.push((0,s.A)((0,s.A)({},a),{},{type:"product",parentService:n,displayLanguage:i,matchedIn:{title:d.includes(e)||u.includes(e),usage:p.includes(e)||m.includes(e)}}))}})}),r},[g,x]),y=e=>{if(r(),"service"===e.type)return h(i.R7.SERVICE(e.slug)),void setTimeout(()=>{try{window.scrollTo({top:0,behavior:"smooth"})}catch(e){}},80);if("product"===e.type){if(1===e.parentService.id)return void h(i.R7.EQUIPMENT(e.slug));const t=i.R7.SERVICE(e.parentService.slug);h(t);const r=()=>{try{const t=e.slug,r=document.getElementById(t)||document.querySelector('[name="'.concat(t,'"]'))||document.querySelector('a[href="#'.concat(t,'"]'));r?r.scrollIntoView({behavior:"smooth",block:"start"}):window.location.hash="#".concat(t)}catch(t){}};setTimeout(r,120),setTimeout(r,400),setTimeout(r,800)}},b=f.services.length+f.products.length;return e?(0,m.jsx)(l.N,{children:(0,m.jsxs)(o.P.div,{className:"fixed inset-0 z-50 flex items-start justify-center pt-20 px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,children:[(0,m.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),(0,m.jsxs)(o.P.div,{className:"relative w-full max-w-3xl bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden",initial:{opacity:0,y:-50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.95},onClick:e=>e.stopPropagation(),children:[(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),f.services.length>0?y(f.services[0]):f.products.length>0&&y(f.products[0])},className:"relative border-b border-gray-200 dark:border-gray-700",children:[(0,m.jsx)(c.KSO,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 text-xl"}),(0,m.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),placeholder:"ar"===x?"\u0627\u0628\u062d\u062b \u0639\u0646 \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0648\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a...":"Search services and products...",className:"w-full px-16 py-5 text-lg bg-transparent text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none",autoFocus:!0}),(0,m.jsx)("button",{type:"button",onClick:r,className:"absolute right-6 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:(0,m.jsx)(c.QCr,{className:"text-xl"})})]}),(0,m.jsx)("div",{className:"max-h-[60vh] overflow-y-auto p-4",children:g.trim().length<2?(0,m.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,m.jsx)(c.KSO,{className:"text-4xl mx-auto mb-4 opacity-30"}),(0,m.jsx)("p",{children:"ar"===x?"\u0627\u0628\u062f\u0623 \u0628\u0643\u062a\u0627\u0628\u0629 \u062d\u0631\u0641\u064a\u0646 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644 \u0644\u0644\u0628\u062d\u062b":"Start typing at least 2 characters to search"})]}):0===b?(0,m.jsxs)("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:[(0,m.jsx)(c.KSO,{className:"text-4xl mx-auto mb-4 opacity-30"}),(0,m.jsx)("p",{className:"text-lg font-medium mb-2",children:"ar"===x?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0646\u062a\u0627\u0626\u062c":"No results found"}),(0,m.jsx)("p",{className:"text-sm",children:"ar"===x?"\u062c\u0631\u0628 \u0643\u0644\u0645\u0627\u062a \u0645\u0641\u062a\u0627\u062d\u064a\u0629 \u0645\u062e\u062a\u0644\u0641\u0629":"Try different keywords"})]}):(0,m.jsxs)("div",{className:"space-y-6",children:[f.services.length>0&&(0,m.jsxs)("div",{children:[(0,m.jsxs)("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase mb-3 px-2",children:["ar"===x?"\u0627\u0644\u062e\u062f\u0645\u0627\u062a":"Services"," (",f.services.length,")"]}),(0,m.jsx)("div",{className:"space-y-2",children:f.services.map(e=>{var t,r,s,n,a,i,l,d,u;return(0,m.jsx)(o.P.button,{onClick:()=>y(e),className:"w-full text-left p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors group",whileHover:{x:4},children:(0,m.jsxs)("div",{className:"flex items-start gap-4",children:[(0,m.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-brand to-brand-secondary flex items-center justify-center flex-shrink-0",children:(0,m.jsx)(c.Pcn,{className:"text-white"})}),(0,m.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,m.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-brand transition-colors",children:(null===(t=e.title)||void 0===t?void 0:t[e.displayLanguage])||(null===(r=e.title)||void 0===r?void 0:r[x])||(null===(s=e.title)||void 0===s?void 0:s.en)}),(0,m.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:(null===(n=e.desc)||void 0===n?void 0:n[e.displayLanguage])||(null===(a=e.desc)||void 0===a?void 0:a[x])||(null===(i=e.desc)||void 0===i?void 0:i.en)}),(0,m.jsx)("div",{className:"flex gap-2 mt-2",children:(0,m.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-brand/10 text-brand",children:(null===(l=e.category)||void 0===l?void 0:l[e.displayLanguage])||(null===(d=e.category)||void 0===d?void 0:d[x])||(null===(u=e.category)||void 0===u?void 0:u.en)})})]}),(0,m.jsx)(c.Z0P,{className:"text-gray-400 group-hover:text-brand transition-colors flex-shrink-0 mt-1"})]})},e.id)})})]}),f.products.length>0&&(0,m.jsxs)("div",{children:[(0,m.jsxs)("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase mb-3 px-2",children:["ar"===x?"\u0627\u0644\u0645\u0646\u062a\u062c\u0627\u062a":"Products"," (",f.products.length,")"]}),(0,m.jsx)("div",{className:"space-y-2",children:f.products.map((e,t)=>{var r,s,n,a,i,l,d,u,p,h,g,v;return(0,m.jsx)(o.P.button,{onClick:()=>y(e),className:"w-full text-left p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors group",whileHover:{x:4},children:(0,m.jsxs)("div",{className:"flex items-center gap-3",children:[(0,m.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-brand to-brand-medium flex items-center justify-center flex-shrink-0",children:(0,m.jsx)(c.TXh,{className:"text-white"})}),(0,m.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,m.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1 group-hover:text-brand transition-colors",children:(null===(r=e.title)||void 0===r?void 0:r[e.displayLanguage])||(null===(s=e.title)||void 0===s?void 0:s[x])||(null===(n=e.title)||void 0===n?void 0:n.en)}),(0,m.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:(null===(a=e.usage)||void 0===a?void 0:a[e.displayLanguage])||(null===(i=e.usage)||void 0===i?void 0:i[x])||(null===(l=e.usage)||void 0===l?void 0:l.en)}),(0,m.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:["ar"===x?"\u0641\u064a":"in"," ",(null===(d=e.parentService)||void 0===d||null===(u=d.title)||void 0===u?void 0:u[e.displayLanguage])||(null===(p=e.parentService)||void 0===p||null===(h=p.title)||void 0===h?void 0:h[x])||(null===(g=e.parentService)||void 0===g||null===(v=g.title)||void 0===v?void 0:v.en)]})]}),(0,m.jsx)(c.Z0P,{className:"text-gray-400 group-hover:text-brand transition-colors flex-shrink-0 mt-1"})]})},"".concat(e.id,"-").concat(t))})})]})]})}),b>0&&(0,m.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 px-6 py-3 bg-gray-50 dark:bg-gray-900/50",children:(0,m.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"ar"===x?"\u0627\u0636\u063a\u0637 Enter \u0644\u0644\u0627\u0646\u062a\u0642\u0627\u0644 \u0644\u0644\u0646\u062a\u064a\u062c\u0629 \u0627\u0644\u0623\u0648\u0644\u0649":"Press Enter to go to first result"})})]})]})}):null}},4670(e,t,r){r.d(t,{N:()=>f});var s=r(5043),n=r(8427),a=r(6272),i=r(293);function o(){const e=(0,s.useRef)(!1);return(0,i.E)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var l=r(9674),c=r(4930);class d extends s.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:r}=e;const n=(0,s.useId)(),a=(0,s.useRef)(null),i=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{const{width:e,height:t,top:s,left:o}=i.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[r]),s.createElement(d,{isPresent:r,childRef:a,sizeRef:i},s.cloneElement(t,{ref:a}))}const p=e=>{let{children:t,initial:r,isPresent:n,onExitComplete:a,custom:i,presenceAffectsLayout:o,mode:d}=e;const p=(0,c.M)(m),x=(0,s.useId)(),h=(0,s.useMemo)(()=>({id:x,initial:r,isPresent:n,custom:i,onExitComplete:e=>{p.set(e,!0);for(const t of p.values())if(!t)return;a&&a()},register:e=>(p.set(e,!1),()=>p.delete(e))}),o?void 0:[n]);return(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[n]),s.useEffect(()=>{!n&&!p.size&&a&&a()},[n]),"popLayout"===d&&(t=s.createElement(u,{isPresent:n},t)),s.createElement(l.t.Provider,{value:h},t)};function m(){return new Map}var x=r(2190),h=r(7188),g=r(3170);const v=e=>e.key||"";const f=e=>{let{children:t,custom:r,initial:l=!0,onExitComplete:c,exitBeforeEnter:d,presenceAffectsLayout:u=!0,mode:m="sync"}=e;d&&(m="wait",(0,g.m)(!1,"Replace exitBeforeEnter with mode='wait'"));let[f]=function(){const e=o(),[t,r]=(0,s.useState)(0),n=(0,s.useCallback)(()=>{e.current&&r(t+1)},[t]);return[(0,s.useCallback)(()=>a.OH.postRender(n),[n]),t]}();const y=(0,s.useContext)(x.L).forceRender;y&&(f=y);const b=o(),w=function(e){const t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}(t);let j=w;const k=new Set,N=(0,s.useRef)(j),E=(0,s.useRef)(new Map).current,C=(0,s.useRef)(!0);if((0,i.E)(()=>{C.current=!1,function(e,t){e.forEach(e=>{const r=v(e);t.set(r,e)})}(w,E),N.current=j}),(0,h.l)(()=>{C.current=!0,E.clear(),k.clear()}),C.current)return s.createElement(s.Fragment,null,j.map(e=>s.createElement(p,{key:v(e),isPresent:!0,initial:!!l&&void 0,presenceAffectsLayout:u,mode:m},e)));j=[...j];const L=N.current.map(v),P=w.map(v),S=L.length;for(let s=0;s<S;s++){const e=L[s];-1===P.indexOf(e)&&k.add(e)}return"wait"===m&&k.size&&(j=[]),k.forEach(e=>{if(-1!==P.indexOf(e))return;const t=E.get(e);if(!t)return;const n=L.indexOf(e);j.splice(n,0,s.createElement(p,{key:v(t),isPresent:!1,onExitComplete:()=>{E.delete(e),k.delete(e);const t=N.current.findIndex(t=>t.key===e);if(N.current.splice(t,1),!k.size){if(N.current=w,!1===b.current)return;f(),c&&c()}},custom:r,presenceAffectsLayout:u,mode:m},t))}),j=j.map(e=>{const t=e.key;return k.has(t)?e:s.createElement(p,{key:v(e),isPresent:!0,presenceAffectsLayout:u,mode:m},e)}),"production"!==n._&&"wait"===m&&j.length>1&&console.warn('You\'re attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.'),s.createElement(s.Fragment,null,k.size?j:j.map(e=>(0,s.cloneElement)(e)))}}}]);
//# sourceMappingURL=369.7157f032.chunk.js.map