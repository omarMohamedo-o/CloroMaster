"use strict";(self.webpackChunkchloromaster=self.webpackChunkchloromaster||[]).push([[923],{1384(e,a,t){t.d(a,{A:()=>d});t(5043);var s=t(5685),n=t(2774),r=t(9347),i=t(7919),l=t(1529),c=t(1766),o=t(579);function d(e){let{className:a="mb-8"}=e;const t=(0,s.Zp)(),d=(0,s.zy)(),m=(0,s.g)(),{t:u,language:x}=(0,r.o)(),p="string"===typeof x&&x.toLowerCase().startsWith("ar");return(0,o.jsx)("div",{className:"py-4 ".concat(a),children:(0,o.jsxs)("div",{className:"relative inline-block group",children:[(0,o.jsx)("span",{className:"absolute -inset-1 rounded-full bg-brand/10 backdrop-blur-sm opacity-0 transform scale-95 transition-all duration-200 group-hover:opacity-100 group-hover:scale-100 pointer-events-none shadow-lg","aria-hidden":"true"}),(0,o.jsx)("button",{"data-back-button":"true",onClick:e=>{e&&e.preventDefault&&e.preventDefault();const a=(0,i.A)({pathname:d.pathname,params:m})||l.R7.HOME;(0,c.Iz)(),(0,c.Di)(t,a)},className:"relative z-10 inline-flex items-center gap-3 text-brand hover:text-brand-secondary bg-transparent border-0 px-3 py-2 rounded-lg transition-all duration-200 hover:shadow-md",children:p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:"text-sm font-medium text-brand",children:u("common_ui.back")||"Back"}),(0,o.jsx)(n.Z0P,{className:"text-brand text-base"})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.QVr,{className:"text-brand text-base"}),(0,o.jsx)("span",{className:"text-sm font-medium text-brand",children:u("common_ui.back")||"Back"})]})})]})})}},1766(e,a,t){t.d(a,{Di:()=>r,Iz:()=>n});const s=260;function n(){if(document.getElementById("cm-back-exit-style"))return s;const e=document.createElement("style");return e.id="cm-back-exit-style",e.innerHTML="#cm-page-wrapper{transition:transform ".concat(s,"ms cubic-bezier(.2,.9,.3,1),opacity ").concat(s,"ms cubic-bezier(.2,.9,.3,1);} #cm-page-wrapper.cm-exit{transform:translateY(-18px);opacity:0;}"),document.head.appendChild(e),s}function r(e,a){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;try{const e=document.getElementById("cm-page-wrapper")||document.querySelector("main")||document.body;e&&e.classList&&e.classList.add("cm-exit")}catch(n){}setTimeout(()=>{e(a)},t)}},2923(e,a,t){t.r(a),t.d(a,{default:()=>u});var s=t(2555),n=t(5043),r=t(5685),i=t(1384),l=t(1529),c=t(9347),o=t(5581),d=t(579);function m(e){let{label:a,value:t}=e;return(0,d.jsxs)("div",{className:"py-3 border-b border-gray-200 last:border-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:a}),(0,d.jsx)("dd",{className:"text-base text-gray-900",children:t||"-"})]})}const u=()=>{const{t:e}=(0,c.o)(),a=(0,r.Zp)(),{id:t}=(0,r.g)(),[u,x]=(0,n.useState)(null),[p,h]=(0,n.useState)(!0),[g,b]=(0,n.useState)(""),y=(0,n.useCallback)(async()=>{if(localStorage.getItem("adminToken"))try{const e=await fetch("".concat(o.A.api.baseURL,"/admin/submissions/").concat(t));if(!e.ok)throw new Error("Failed to fetch submission");const a=await e.json();x(a)}catch(e){b(e.message)}finally{h(!1)}else a(l.R7.ADMIN_LOGIN)},[t,a]);(0,n.useEffect)(()=>{y()},[y]);return p?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,d.jsx)("p",{className:"mt-4 text-gray-600",children:e("admin.loading")})]})}):g||!u?(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-red-50 border border-red-200 text-red-700 p-6 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:e("admin.error")}),(0,d.jsx)("p",{children:g||"Submission not found"}),(0,d.jsx)(i.A,{className:"mt-4"})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)("header",{className:"bg-white shadow-sm",children:(0,d.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(i.A,{className:"mb-2 text-blue-600"}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e("admin.submissionDetail")})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("".concat(o.A.api.baseURL,"/admin/submissions/").concat(t,"/read"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update status");x((0,s.A)((0,s.A)({},u),{},{isRead:e}))}catch(a){alert(a.message)}})(!u.isRead),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:u.isRead?e("admin.markAsUnread"):e("admin.markAsRead")}),(0,d.jsx)("button",{onClick:async()=>{if(window.confirm(e("admin.deleteConfirm")))try{if(!(await fetch("".concat(o.A.api.baseURL,"/admin/submissions/").concat(t),{method:"DELETE"})).ok)throw new Error("Failed to delete");a(l.R7.ADMIN_SUBMISSIONS)}catch(s){alert(s.message)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:e("admin.delete")})]})]})})}),(0,d.jsxs)("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsx)("div",{className:"mb-6",children:u.isRead?(0,d.jsx)("span",{className:"px-3 py-1 text-sm font-semibold rounded-full bg-green-100 text-green-800",children:e("admin.readStatus")}):(0,d.jsx)("span",{className:"px-3 py-1 text-sm font-semibold rounded-full bg-yellow-100 text-yellow-800",children:e("admin.newStatus")})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83d\udc64"}),e("admin.contactInfo")]}),(0,d.jsxs)("dl",{children:[(0,d.jsx)(m,{label:e("admin.firstName"),value:u.firstName}),(0,d.jsx)(m,{label:e("admin.lastName"),value:u.lastName}),(0,d.jsx)(m,{label:e("admin.email"),value:u.email}),(0,d.jsx)(m,{label:e("admin.phone"),value:u.phone})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83c\udfe2"}),e("admin.companyInfo")]}),(0,d.jsxs)("dl",{children:[(0,d.jsx)(m,{label:e("admin.company"),value:u.company}),(0,d.jsx)(m,{label:e("admin.industry"),value:u.industry}),(0,d.jsx)(m,{label:e("admin.country"),value:u.country}),(0,d.jsx)(m,{label:e("admin.postalCode"),value:u.postalCode})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 lg:col-span-2",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83d\udcac"}),e("admin.message")]}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,d.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:u.message})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 lg:col-span-2",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83d\udcca"}),e("admin.metadata")]}),(0,d.jsxs)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsx)(m,{label:e("admin.submittedAt"),value:new Date(u.submittedAt).toLocaleString()}),(0,d.jsx)(m,{label:e("admin.ipAddress"),value:u.ipAddress}),(0,d.jsx)("div",{className:"md:col-span-2",children:(0,d.jsx)(m,{label:e("admin.userAgent"),value:u.userAgent})}),(0,d.jsx)(m,{label:e("admin.receiveEmails"),value:u.receiveEmails?e("admin.yes"):e("admin.no")})]})]})]})]})]})}},5581(e,a,t){t.d(a,{A:()=>s});const s={api:{baseURL:"https://localhost:5001/api",timeout:3e4},app:{name:"ChloroMaster",description:"Engineering, Contracting & Supplies - Water Treatment & Chlorination Systems",version:"1.0.0"},contact:{email:"ChloroMaster@outlook.sa",phone:"+20 12 22155310",phone2:"+20 12 78253701",whatsapp:"+201278253701",address:"58 Mahaliya 1 - Second District, Obour - Qalyubia",addressLink:"https://maps.google.com/?q=58+Mahaliya+1+Second+District+Obour+Qalyubia+Egypt",workingHours:{weekdays:"Sunday - Wednesday: 9:00 AM - 6:00 PM",saturday:"Saturday: 9:00 AM - 2:00 PM"}},features:{darkMode:!0,animations:!0,contactForm:!0,services:!0}}},7919(e,a,t){t.d(a,{A:()=>r});var s=t(4606),n=t(1529);const r=function(){let{pathname:e="",params:a={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const r=String(e||"").trim();let i=r;const l=(e=>{try{const a=String(e||"").match(/^\/(en|ar)(?=\/|$)/i);return a?"/".concat(a[1].toLowerCase()):""}catch(a){return""}})(r),c=e=>String(e||"").split(/[?#]/)[0].replace(/\/$/,"");i=String(i||"").replace(new RegExp("^".concat(l)),"");const o=a&&(a.slug||a.id||a.serviceId)||null;if(i.startsWith("/equipment/")||o&&"string"===typeof o){const e=c(o&&"string"===typeof o?o:i.split("/equipment/")[1]||"").split("/")[0];if(e){const a=String(e||"").toLowerCase();for(const e of s.A)if(e.products&&Array.isArray(e.products))for(const s of e.products){const r=String(s.slug||"").toLowerCase();if(r===a)return"".concat(l).concat(n.R7.SERVICE(e.slug));const i=e=>String(e||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");if(i(r)===i(a))return"".concat(l).concat(n.R7.SERVICE(e.slug));const c=s.title&&s.title.en?String(s.title.en).toLowerCase():"",o=s.title&&s.title.ar?String(s.title.ar).toLowerCase():"";if(c&&i(c)===i(a))return"".concat(l).concat(n.R7.SERVICE(e.slug));if(o&&i(o)===i(a))return"".concat(l).concat(n.R7.SERVICE(e.slug));try{const t=i(r),s=i(a);if(t&&s&&(t.includes(s)||s.includes(t)))return"".concat(l).concat(n.R7.SERVICE(e.slug))}catch(t){}}}return"".concat(l).concat(n.R7.HOME)}return i.startsWith("/admin/submissions/")?"".concat(l).concat(n.R7.ADMIN_SUBMISSIONS):(i.startsWith("/service/")||i===n.R7.VIDEOS||i.startsWith("/videos"),"".concat(l).concat(n.R7.HOME))}catch(t){return n.R7.HOME}}}}]);
//# sourceMappingURL=923.58dcde68.chunk.js.map