"use strict";(self.webpackChunkchloromaster=self.webpackChunkchloromaster||[]).push([[514],{2514(e,s,a){a.r(s),a.d(s,{default:()=>n});var t=a(5043),r=a(5685),l=a(4039),i=a(5581),o=a(579);const n=()=>{const{language:e}=(0,l.o)(),s=(0,r.Zp)(),[a,n]=(0,t.useState)(null),[d,c]=(0,t.useState)(!0),[m,x]=(0,t.useState)("");(0,t.useEffect)(()=>{localStorage.getItem("adminToken")?h():s("/admin/login")},[s]);const h=async()=>{try{const e=await fetch("".concat(i.A.api.baseURL,"/admin/dashboard/stats"));if(!e.ok)throw new Error("Failed to fetch dashboard stats");const s=await e.json();n(s)}catch(e){x(e.message)}finally{c(!1)}};if(d)return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"ar"===e?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"Loading..."})]})});if(m)return(0,o.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,o.jsxs)("div",{className:"max-w-md w-full bg-red-50 border border-red-200 text-red-700 p-6 rounded-lg",children:[(0,o.jsx)("h3",{className:"font-semibold mb-2",children:"Error"}),(0,o.jsx)("p",{children:m}),(0,o.jsx)("button",{onClick:h,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"ar"===e?"\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629":"Retry"})]})});const b=e=>{let{title:s,value:a,subtitle:t,icon:r,color:l}=e;return(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 ".concat(l),children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:s}),(0,o.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:a}),t&&(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t})]}),(0,o.jsx)("div",{className:"text-4xl opacity-20",children:r})]})})};return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow-sm",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ar"===e?"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645":"Admin Dashboard"}),(0,o.jsx)("p",{className:"text-sm text-gray-600",children:"ChloroMaster Analytics"})]}),(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("button",{onClick:()=>s("/admin/submissions"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"ar"===e?"\u0627\u0644\u0631\u0633\u0627\u0626\u0644":"Submissions"}),(0,o.jsx)("button",{onClick:()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),s("/admin/login")},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"ar"===e?"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c":"Logout"})]})]})})}),(0,o.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,o.jsx)(b,{title:"ar"===e?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0632\u0648\u0627\u0631":"Total Visitors",value:a.totalVisitors.toLocaleString(),subtitle:"ar"===e?"\u0627\u0644\u064a\u0648\u0645: ".concat(a.todayVisitors):"Today: ".concat(a.todayVisitors),icon:"\ud83d\udc65",color:"border-blue-500"}),(0,o.jsx)(b,{title:"ar"===e?"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0631\u0633\u0627\u0626\u0644":"Total Submissions",value:a.totalSubmissions.toLocaleString(),subtitle:"ar"===e?"\u0627\u0644\u064a\u0648\u0645: ".concat(a.todaySubmissions):"Today: ".concat(a.todaySubmissions),icon:"\ud83d\udce7",color:"border-green-500"}),(0,o.jsx)(b,{title:"ar"===e?"\u0631\u0633\u0627\u0626\u0644 \u063a\u064a\u0631 \u0645\u0642\u0631\u0648\u0621\u0629":"Unread Messages",value:a.unreadSubmissions,icon:"\ud83d\udcec",color:"border-yellow-500"}),(0,o.jsx)(b,{title:"ar"===e?"\u0645\u0639\u062f\u0644 \u0627\u0644\u062a\u062d\u0648\u064a\u0644":"Conversion Rate",value:"".concat(a.conversionRate,"%"),icon:"\ud83d\udcca",color:"border-purple-500"})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ar"===e?"\u0623\u0647\u0645 \u0645\u0635\u0627\u062f\u0631 \u0627\u0644\u0632\u064a\u0627\u0631\u0627\u062a":"Top Traffic Sources"}),a.topTrafficSources&&a.topTrafficSources.length>0?(0,o.jsx)("div",{className:"space-y-3",children:a.topTrafficSources.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsxs)("div",{className:"flex-1",children:[(0,o.jsx)("p",{className:"text-sm font-medium text-gray-700 truncate",children:e.source}),(0,o.jsx)("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:(0,o.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})})]}),(0,o.jsx)("span",{className:"ml-4 text-sm font-semibold text-gray-600",children:e.count})]},s))}):(0,o.jsx)("p",{className:"text-gray-500 text-center py-8",children:"ar"===e?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"No data available"})]}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ar"===e?"\u0627\u0644\u0635\u0641\u062d\u0627\u062a \u0627\u0644\u0623\u0643\u062b\u0631 \u0632\u064a\u0627\u0631\u0629":"Top Pages"}),a.topPages&&a.topPages.length>0?(0,o.jsx)("div",{className:"space-y-2",children:a.topPages.map((e,s)=>(0,o.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[(0,o.jsx)("span",{className:"text-sm text-gray-700 truncate flex-1",children:e.page}),(0,o.jsx)("span",{className:"ml-4 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:e.views})]},s))}):(0,o.jsx)("p",{className:"text-gray-500 text-center py-8",children:"ar"===e?"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a":"No data available"})]})]}),(0,o.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,o.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"ar"===e?"\u0625\u062c\u0631\u0627\u0621\u0627\u062a \u0633\u0631\u064a\u0639\u0629":"Quick Actions"}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,o.jsxs)("button",{onClick:()=>s("/admin/submissions?filter=unread"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all text-left",children:[(0,o.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcec"}),(0,o.jsx)("h3",{className:"font-semibold text-gray-800",children:"ar"===e?"\u0639\u0631\u0636 \u0627\u0644\u0631\u0633\u0627\u0626\u0644 \u063a\u064a\u0631 \u0627\u0644\u0645\u0642\u0631\u0648\u0621\u0629":"View Unread Messages"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.unreadSubmissions," ","ar"===e?"\u0631\u0633\u0627\u0644\u0629":"messages"]})]}),(0,o.jsxs)("button",{onClick:()=>s("/admin/submissions"),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all text-left",children:[(0,o.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udccb"}),(0,o.jsx)("h3",{className:"font-semibold text-gray-800",children:"ar"===e?"\u062c\u0645\u064a\u0639 \u0627\u0644\u0631\u0633\u0627\u0626\u0644":"All Submissions"}),(0,o.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.totalSubmissions," ","ar"===e?"\u0625\u062c\u0645\u0627\u0644\u064a":"total"]})]}),(0,o.jsxs)("button",{onClick:h,className:"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all text-left",children:[(0,o.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd04"}),(0,o.jsx)("h3",{className:"font-semibold text-gray-800",children:"ar"===e?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a":"Refresh Data"}),(0,o.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"ar"===e?"\u062a\u062d\u062f\u064a\u062b \u0627\u0644\u0625\u062d\u0635\u0627\u0626\u064a\u0627\u062a":"Update statistics"})]})]})]})]})]})}},5581(e,s,a){a.d(s,{A:()=>t});const t={api:{baseURL:"https://localhost:5001/api",timeout:3e4},app:{name:"ChloroMaster",description:"Engineering, Contracting & Supplies - Water Treatment & Chlorination Systems",version:"1.0.0"},contact:{email:"ChloroMaster@outlook.sa",phone:"+20 12 22155310",address:"58 Mahaliya 1 - Second District, Obour - Qalyubia",addressLink:"https://maps.google.com/?q=58+Mahaliya+1+Second+District+Obour+Qalyubia+Egypt",workingHours:{weekdays:"Sunday - Wednesday: 9:00 AM - 6:00 PM",saturday:"Saturday: 9:00 AM - 2:00 PM"}},features:{darkMode:!0,animations:!0,contactForm:!0,services:!0}}}}]);
//# sourceMappingURL=514.ed1d78fa.chunk.js.map