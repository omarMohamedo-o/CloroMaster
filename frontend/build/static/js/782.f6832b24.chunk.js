"use strict";(self.webpackChunkchloromaster=self.webpackChunkchloromaster||[]).push([[782],{5581(e,s,a){a.d(s,{A:()=>t});const t={api:{baseURL:"https://localhost:5001/api",timeout:3e4},app:{name:"ChloroMaster",description:"Engineering, Contracting & Supplies - Water Treatment & Chlorination Systems",version:"1.0.0"},contact:{email:"ChloroMaster@outlook.sa",phone:"+20 12 22155310",address:"58 Mahaliya 1 - Second District, Obour - Qalyubia",addressLink:"https://maps.google.com/?q=58+Mahaliya+1+Second+District+Obour+Qalyubia+Egypt",workingHours:{weekdays:"Sunday - Wednesday: 9:00 AM - 6:00 PM",saturday:"Saturday: 9:00 AM - 2:00 PM"}},features:{darkMode:!0,animations:!0,contactForm:!0,services:!0}}},9782(e,s,a){a.r(s),a.d(s,{default:()=>o});var t=a(2555),l=a(5043),r=a(5685),i=a(4039),n=a(5581),d=a(579);const o=()=>{const{language:e}=(0,i.o)(),s=(0,r.Zp)(),{id:a}=(0,r.g)(),[o,c]=(0,l.useState)(null),[m,x]=(0,l.useState)(!0),[h,u]=(0,l.useState)("");(0,l.useEffect)(()=>{localStorage.getItem("adminToken")?b():s("/admin/login")},[a]);const b=async()=>{try{const e=await fetch("".concat(n.A.api.baseURL,"/admin/submissions/").concat(a));if(!e.ok)throw new Error("Failed to fetch submission");const s=await e.json();c(s)}catch(e){u(e.message)}finally{x(!1)}};if(m)return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,d.jsx)("p",{className:"mt-4 text-gray-600",children:"ar"===e?"\u062c\u0627\u0631\u064a \u0627\u0644\u062a\u062d\u0645\u064a\u0644...":"Loading..."})]})});if(h||!o)return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-red-50 border border-red-200 text-red-700 p-6 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:"Error"}),(0,d.jsx)("p",{children:h||"Submission not found"}),(0,d.jsx)("button",{onClick:()=>s("/admin/submissions"),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"ar"===e?"\u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0642\u0627\u0626\u0645\u0629":"Back to List"})]})});const g=e=>{let{label:s,value:a}=e;return(0,d.jsxs)("div",{className:"py-3 border-b border-gray-200 last:border-0",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-1",children:s}),(0,d.jsx)("dd",{className:"text-base text-gray-900",children:a||"-"})]})};return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)("header",{className:"bg-white shadow-sm",children:(0,d.jsx)("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("button",{onClick:()=>s("/admin/submissions"),className:"text-blue-600 hover:text-blue-800 mb-2 flex items-center gap-2",children:["\u2190 ","ar"===e?"\u0627\u0644\u0639\u0648\u062f\u0629":"Back"]}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"ar"===e?"\u062a\u0641\u0627\u0635\u064a\u0644 \u0627\u0644\u0631\u0633\u0627\u0644\u0629":"Submission Detail"})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("button",{onClick:()=>(async e=>{try{if(!(await fetch("".concat(n.A.api.baseURL,"/admin/submissions/").concat(a,"/read"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw new Error("Failed to update status");c((0,t.A)((0,t.A)({},o),{},{isRead:e}))}catch(s){alert(s.message)}})(!o.isRead),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:o.isRead?"ar"===e?"\u062a\u0639\u0644\u064a\u0645 \u0643\u063a\u064a\u0631 \u0645\u0642\u0631\u0648\u0621\u0629":"Mark Unread":"ar"===e?"\u062a\u0639\u0644\u064a\u0645 \u0643\u0645\u0642\u0631\u0648\u0621\u0629":"Mark Read"}),(0,d.jsx)("button",{onClick:async()=>{if(window.confirm("ar"===e?"\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u062d\u0630\u0641\u061f":"Are you sure you want to delete?"))try{if(!(await fetch("".concat(n.A.api.baseURL,"/admin/submissions/").concat(a),{method:"DELETE"})).ok)throw new Error("Failed to delete");s("/admin/submissions")}catch(t){alert(t.message)}},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"ar"===e?"\u062d\u0630\u0641":"Delete"})]})]})})}),(0,d.jsxs)("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsx)("div",{className:"mb-6",children:o.isRead?(0,d.jsx)("span",{className:"px-3 py-1 text-sm font-semibold rounded-full bg-green-100 text-green-800",children:"ar"===e?"\u0645\u0642\u0631\u0648\u0621\u0629":"Read"}):(0,d.jsx)("span",{className:"px-3 py-1 text-sm font-semibold rounded-full bg-yellow-100 text-yellow-800",children:"ar"===e?"\u062c\u062f\u064a\u062f\u0629":"New"})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83d\udc64"}),"ar"===e?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0627\u062a\u0635\u0627\u0644":"Contact Information"]}),(0,d.jsxs)("dl",{children:[(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u0648\u0644":"First Name",value:o.firstName}),(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0627\u0633\u0645 \u0627\u0644\u0623\u062e\u064a\u0631":"Last Name",value:o.lastName}),(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a":"Email",value:o.email}),(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0647\u0627\u062a\u0641":"Phone",value:o.phone})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83c\udfe2"}),"ar"===e?"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0634\u0631\u0643\u0629":"Company Information"]}),(0,d.jsxs)("dl",{children:[(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0634\u0631\u0643\u0629":"Company",value:o.company}),(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0635\u0646\u0627\u0639\u0629":"Industry",value:o.industry}),(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u062f\u0648\u0644\u0629":"Country",value:o.country}),(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0628\u0631\u064a\u062f\u064a":"Postal Code",value:o.postalCode})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 lg:col-span-2",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83d\udcac"}),"ar"===e?"\u0627\u0644\u0631\u0633\u0627\u0644\u0629":"Message"]}),(0,d.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,d.jsx)("p",{className:"text-gray-800 whitespace-pre-wrap",children:o.message})})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 lg:col-span-2",children:[(0,d.jsxs)("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[(0,d.jsx)("span",{children:"\ud83d\udcca"}),"ar"===e?"\u0628\u064a\u0627\u0646\u0627\u062a \u0625\u0636\u0627\u0641\u064a\u0629":"Metadata"]}),(0,d.jsxs)("dl",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,d.jsx)(g,{label:"ar"===e?"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0625\u0631\u0633\u0627\u0644":"Submitted At",value:new Date(o.submittedAt).toLocaleString()}),(0,d.jsx)(g,{label:"ar"===e?"\u0639\u0646\u0648\u0627\u0646 IP":"IP Address",value:o.ipAddress}),(0,d.jsx)("div",{className:"md:col-span-2",children:(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0644\u0645\u062a\u0635\u0641\u062d":"User Agent",value:o.userAgent})}),(0,d.jsx)(g,{label:"ar"===e?"\u0627\u0633\u062a\u0642\u0628\u0627\u0644 \u0627\u0644\u0631\u0633\u0627\u0626\u0644":"Receive Emails",value:o.receiveEmails?"ar"===e?"\u0646\u0639\u0645":"Yes":"ar"===e?"\u0644\u0627":"No"})]})]})]})]})]})}}}]);
//# sourceMappingURL=782.f6832b24.chunk.js.map