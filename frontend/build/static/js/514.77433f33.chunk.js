"use strict";(self.webpackChunkchloromaster=self.webpackChunkchloromaster||[]).push([[514],{2514(e,s,a){a.r(s),a.d(s,{default:()=>o});var t=a(5043),r=a(5685),l=a(1529),i=a(9347),n=a(5581),d=a(579);const o=()=>{const{t:e}=(0,i.o)(),s=(0,r.Zp)(),[a,o]=(0,t.useState)(null),[c,m]=(0,t.useState)(!0),[x,h]=(0,t.useState)("");(0,t.useEffect)(()=>{localStorage.getItem("adminToken")?g():s(l.R7.ADMIN_LOGIN)},[s]);const g=async()=>{try{const e=await fetch("".concat(n.A.api.baseURL,"/admin/dashboard/stats"));if(!e.ok)throw new Error("Failed to fetch dashboard stats");const s=await e.json();o(s)}catch(e){h(e.message)}finally{m(!1)}};if(c)return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,d.jsx)("p",{className:"mt-4 text-gray-600",children:e("admin.loading")})]})});if(x)return(0,d.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"max-w-md w-full bg-red-50 border border-red-200 text-red-700 p-6 rounded-lg",children:[(0,d.jsx)("h3",{className:"font-semibold mb-2",children:e("admin.error")}),(0,d.jsx)("p",{children:x}),(0,d.jsx)("button",{onClick:g,className:"mt-4 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:e("admin.retry")})]})});const b=e=>{let{title:s,value:a,subtitle:t,icon:r,color:l}=e;return(0,d.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 border-l-4 ".concat(l),children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:s}),(0,d.jsx)("p",{className:"text-3xl font-bold text-gray-800",children:a}),t&&(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:t})]}),(0,d.jsx)("div",{className:"text-4xl opacity-20",children:r})]})})};return(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)("header",{className:"bg-white shadow-sm",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:e("admin.dashboard")}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:"ChloroMaster Analytics"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)("button",{onClick:()=>s(l.R7.ADMIN_SUBMISSIONS),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e("admin.submissions")}),(0,d.jsx)("button",{onClick:()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),s(l.R7.ADMIN_LOGIN)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:e("admin.logout")})]})]})})}),(0,d.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,d.jsx)(b,{title:e("admin.totalVisitors"),value:a.totalVisitors.toLocaleString(),subtitle:"".concat(e("admin.today"),": ").concat(a.todayVisitors),icon:"\ud83d\udc65",color:"border-blue-500"}),(0,d.jsx)(b,{title:e("admin.totalSubmissions"),value:a.totalSubmissions.toLocaleString(),subtitle:"".concat(e("admin.today"),": ").concat(a.todaySubmissions),icon:"\ud83d\udce7",color:"border-green-500"}),(0,d.jsx)(b,{title:e("admin.unreadMessages"),value:a.unreadSubmissions,icon:"\ud83d\udcec",color:"border-yellow-500"}),(0,d.jsx)(b,{title:e("admin.conversionRate"),value:"".concat(a.conversionRate,"%"),icon:"\ud83d\udcca",color:"border-purple-500"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e("admin.topTrafficSources")}),a.topTrafficSources&&a.topTrafficSources.length>0?(0,d.jsx)("div",{className:"space-y-3",children:a.topTrafficSources.map((e,s)=>(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("p",{className:"text-sm font-medium text-gray-700 truncate",children:e.source}),(0,d.jsx)("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:(0,d.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(e.percentage,"%")}})})]}),(0,d.jsx)("span",{className:"ml-4 text-sm font-semibold text-gray-600",children:e.count})]},s))}):(0,d.jsx)("p",{className:"text-gray-500 text-center py-8",children:e("admin.noData")})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e("admin.topPages")}),a.topPages&&a.topPages.length>0?(0,d.jsx)("div",{className:"space-y-2",children:a.topPages.map((e,s)=>(0,d.jsxs)("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-0",children:[(0,d.jsx)("span",{className:"text-sm text-gray-700 truncate flex-1",children:e.page}),(0,d.jsx)("span",{className:"ml-4 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:e.views})]},s))}):(0,d.jsx)("p",{className:"text-gray-500 text-center py-8",children:e("admin.noData")})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,d.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:e("admin.quickActions")}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,d.jsxs)("button",{onClick:()=>s("".concat(l.R7.ADMIN_SUBMISSIONS,"?filter=unread")),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-all text-left",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udcec"}),(0,d.jsx)("h3",{className:"font-semibold text-gray-800",children:e("admin.viewUnreadMessages")}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.unreadSubmissions," ",e("admin.messages")]})]}),(0,d.jsxs)("button",{onClick:()=>s(l.R7.ADMIN_SUBMISSIONS),className:"p-4 border-2 border-gray-200 rounded-lg hover:border-green-500 hover:bg-green-50 transition-all text-left",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udccb"}),(0,d.jsx)("h3",{className:"font-semibold text-gray-800",children:e("admin.allSubmissions")}),(0,d.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[a.totalSubmissions," ",e("admin.total")]})]}),(0,d.jsxs)("button",{onClick:g,className:"p-4 border-2 border-gray-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all text-left",children:[(0,d.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udd04"}),(0,d.jsx)("h3",{className:"font-semibold text-gray-800",children:e("admin.refreshData")}),(0,d.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e("admin.updateStatistics")})]})]})]})]})]})}},5581(e,s,a){a.d(s,{A:()=>t});const t={api:{baseURL:"https://localhost:5001/api",timeout:3e4},app:{name:"ChloroMaster",description:"Engineering, Contracting & Supplies - Water Treatment & Chlorination Systems",version:"1.0.0"},contact:{email:"ChloroMaster@outlook.sa",phone:"+20 12 22155310",phone2:"+20 12 78253701",whatsapp:"+201278253701",address:"58 Mahaliya 1 - Second District, Obour - Qalyubia",addressLink:"https://maps.google.com/?q=58+Mahaliya+1+Second+District+Obour+Qalyubia+Egypt",workingHours:{weekdays:"Sunday - Wednesday: 9:00 AM - 6:00 PM",saturday:"Saturday: 9:00 AM - 2:00 PM"}},features:{darkMode:!0,animations:!0,contactForm:!0,services:!0}}}}]);
//# sourceMappingURL=514.77433f33.chunk.js.map